# --- Security / Auth ---
SECRET_KEY=1b9f2cbe3a6f4d9a80c2c8e3d5f7a9c1e3f5a7b9c2d4e6f8a0b2c4d6e8f0a2b4
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_SECONDS=28800
REFRESH_SECRET_KEY=1b9f2cbe3a6f4d9a80c2c8e3d5f7a9c1e3f5a7b9c2d4e6f8a0b2c4d6e8f0a2b4:refresh
REFRESH_TOKEN_EXPIRE_SECONDS=604800
JWT_CLOCK_SKEW_SECONDS=60

# ================= App / URLs =================
# üëâ ‡πÉ‡∏ä‡πâ localhost ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á FE/BE
FRONTEND_BASE_URL=http://localhost:3000
PUBLIC_BASE_URL=http://localhost:8000

# ================= Database =================
DB_PATH=./users.db
DATABASE_URL=sqlite:///./users.db
DEFAULT_PRINTER_ID=prusa-core-one

# ================= Storage Backend =================
STORAGE_BACKEND=s3
DELETE_STAGING_AFTER_SLICE=0
PRESIGN_EXPIRES=600

# ================= MinIO / S3 =================
# üëâ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô 127.0.0.1 ‡πÄ‡∏õ‡πá‡∏ô localhost ‡πÉ‡∏´‡πâ‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö
S3_ENDPOINT=http://localhost:9000
S3_PUBLIC_ENDPOINT=http://localhost:9000
S3_REGION=us-east-1
S3_BUCKET=printer-store
S3_FORCE_PATH_STYLE=true
S3_SECURE=false
S3_ACCESS_KEY=admin
S3_SECRET_KEY=admin123
# (‡∏•‡∏ö‡∏≠‡∏±‡∏ç‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á parser ‡∏ö‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏°‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏ï‡∏£‡∏¥‡∏á‡πÅ‡∏ö‡∏ö‡∏°‡∏µ quote)
# PRESIGN_EXPIRES = ‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ã‡πâ‡∏≥


# ================= CORS (React) =================
# ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á dev ‡πÉ‡∏´‡πâ‡∏¢‡∏∂‡∏î localhost ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤ host ‡∏õ‡∏ô
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:8000

# ================= PrusaSlicer (Windows) =================
PRUSA_SLICER_BIN=C:\Program Files\Prusa3D\PrusaSlicer\prusa-slicer-console.exe
PRUSA_DATADIR=C:\Users\apich\AppData\Roaming\PrusaSlicer
PRUSA_BUNDLE_PATH=C:\Users\apich\Downloads\PrusaSlicer_config_bundle.ini
PRUSA_PRINTER_PRESET=Prusa CORE One HF0.4 nozzle - Copy
PRUSA_PRINT_PRESET=0.20mm SPEED @COREONE HF0.4 - Copy
PRUSA_ALLOW_FE_PRESET=1
PRUSA_STRICT_PRESET=1
FILAMENT_PROFILE_PLA=Generic PLA @COREONE HF0.4 - Copy
FILAMENT_PROFILE_PETG=Generic PETG @COREONE HF0.4 - Copy

PRUSA_ENABLE_THUMBNAIL=0
PRUSA_DEBUG_CLI=1

# ================= Slicer Preview =================
AUTO_PREVIEW_ON_FINALIZE=1
AUTO_MANIFEST_ON_FINALIZE=1
SLICER_PREVIEW_SIZE=1600x1200
SLICER_PREVIEW_AZ=45
SLICER_PREVIEW_EL=35.2643897
AUTO_PREVIEW_ON_ENQUEUE=1
MIN_OK_PREVIEW_BYTES=4096
PREVIEW_DEBOUNCE_SEC=300

# ================= Teams DM via Power Automate (Flow) =================
# ‡πÉ‡∏ä‡πâ Flow ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á DM ‡∏ñ‡∏∂‡∏á "‡∏Ñ‡∏ô‡∏Å‡∏î‡∏û‡∏¥‡∏°‡∏û‡πå" (‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏à‡∏≤‡∏Å DB) ‡πÄ‡∏°‡∏∑‡πà‡∏≠ queued/processing/completed/failed
FLOW_DM_URL=https://2204a74cba9bee91bb1d4048872919.1b.environment.api.powerplatform.com:443/powerautomate/automations/direct/workflows/3b99b4da6bbb4c7bb2219d790125417f/triggers/manual/paths/invoke?api-version=1
FLOW_DM_TOKEN=supersecret123
# (‡∏≠‡∏≠‡∏õ‡∏ä‡∏±‡∏ô) timeout ‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Flow (‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
FLOW_DM_TIMEOUT=8.0

# ================= Email =================
SMTP_ENABLED=false
SMTP_HOST=smtp.office365.com
SMTP_PORT=587
SMTP_TLS=true
SMTP_SSL=false
SMTP_USER=your_account@yourdomain.com
SMTP_PASS=********
EMAIL_FROM=your_account@yourdomain.com
EMAIL_FROM_NAME=3D Printer Bot

# ================= Camera (snapshot) =================
SNAPSHOT_URL=http://172.20.10.2:8000/snapshot.jpg #edit

# --- Frontend (‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô) ---
FRONTEND_BASE_URL=http://localhost:3000 

# --- Print Queue / Bridge ---
# ‡∏ï‡∏±‡∏ß backend ‡∏´‡∏•‡∏±‡∏Å (print_queue.py) ‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ
DEFAULT_PRINTER_ID=prusa-core-one        # ‡∏´‡∏£‡∏∑‡∏≠ visual-printer ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ï‡πà‡∏≤‡∏á
WS_BACKEND_BASE=http://127.0.0.1:8011    # backend_ws ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏û‡∏≠‡∏£‡πå‡∏ï 8011
MAIN_BACKEND=http://127.0.0.1:8000       # backend ‡∏´‡∏•‡∏±‡∏Å (‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡πÄ‡∏≠‡∏á)
ADMIN_TOKEN=dev123  

# ‡∏ä‡∏µ‡πâ‡πÑ‡∏õ OctoPrint Visual Printer
OCTOPRINT_BASE=http://172.20.10.2:5000
OCTOPRINT_API_KEY=A3gQ6GXqJiKCzda9CLUjDY59hWGdVzdBqfpQynKUOm0
OCTOPRINT_TIMEOUT=15

# --- Detect Alert ---
ALLOWED_DETECT_CLASSES=cracks,layer_shift,spaghetti,stringing
MIN_DETECT_CONFIDENCE=0.70
ALERT_ON_UPDATE=1
ALERT_DEFAULT_EMPLOYEES=admin,qa_lead,shift_manager
AUTO_NOTIFY_ON_READY_PROGRESS=1

AUTO_PAUSE_ON_DETECT=1
PAUSE_ON_EVENTS=issue_started,issue_update,issue_cleared
PAUSE_ON_CLASSES=cracks,layer_shift,spaghetti,stringing
PAUSE_MIN_CONFIDENCE=0.70

BED_EMPTY_ALIASES=bed empty,bed_empty
BED_EMPTY_REQUIRE_RECENT_COMPLETION=0
AUTO_CHAIN_ON_PRINTDONE=0
AUTO_CHAIN_ON_READY_PROGRESS=0
BED_EMPTY_COMPLETION_WINDOW_SEC=0

BACKEND_INTERNAL_BASE=http://127.0.0.1:8000

AUTO_CHAIN_DAEMON=1
AUTO_CHAIN_INTERVAL=5
