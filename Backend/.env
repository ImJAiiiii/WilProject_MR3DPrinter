# --- Security / Auth ---
SECRET_KEY=please-change-this-to-a-long-random-string
ACCESS_TOKEN_EXPIRE_SECONDS=28800

# --- MinIO / S3 ---
S3_ENDPOINT=http://127.0.0.1:9000
S3_REGION=us-east-1
S3_BUCKET=printer-store
S3_ACCESS_KEY=admin
S3_SECRET_KEY=admin123
S3_FORCE_PATH_STYLE=true
S3_SECURE=false
PRESIGN_EXPIRES=600
# เปิดอันนี้ถ้าต้องการข้าม bootstrap ตอนกำลังจูนค่า
# SKIP_S3_BOOTSTRAP=1


# --- CORS (ให้เว็บ React เข้าถึงได้) ---
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# --- PrusaSlicer (Windows ของคุณ) ---
PRUSA_SLICER_BIN=C:\Program Files\Prusa3D\PrusaSlicer\prusa-slicer-console.exe
PRUSA_DATADIR=C:\Users\naamo\AppData\Roaming\PrusaSlicer
PRUSA_PRINTER_PRESET=Prusa CORE One HF0.4 nozzle - Copy
PRUSA_PRINT_PRESET=0.20mm SPEED @COREONE HF0.4
PRUSA_FILAMENT_PRESET=Generic PETG @COREONE HF0.4
PRUSA_ENABLE_THUMBNAIL=0
# บังคับใช้ preset ตามชื่อด้านบนเท่านั้น (ไม่มี fallback)
PRUSA_STRICT_PRESET=0

# --- Email (ถ้าใช้งาน) ---
SMTP_ENABLED=true
SMTP_HOST=smtp.office365.com
SMTP_PORT=587
SMTP_TLS=true
SMTP_SSL=false
SMTP_USER=your_account@yourdomain.com
SMTP_PASS=********
EMAIL_FROM=your_account@yourdomain.com
EMAIL_FROM_NAME=3D Printer Bot

# --- Frontend (ลิงก์กลับหน้าบ้าน) ---
FRONTEND_BASE_URL=http://localhost:3000

# --- Print Queue / Bridge ---
# ตัว backend หลัก (print_queue.py) ใช้ค่าเหล่านี้
DEFAULT_PRINTER_ID=prusa-core-one        # หรือ visual-printer ถ้าต้องการให้ต่าง
WS_BACKEND_BASE=http://127.0.0.1:8011    # backend_ws ที่รันอยู่พอร์ต 8011
MAIN_BACKEND=http://127.0.0.1:8001       # backend หลัก (ตัวนี้เอง)
ADMIN_TOKEN=dev123  

# --- Backend_WS (bridge → OctoPrint) ---
PORT=8011
PRINTER_WS_TOKEN=dev123
WS_REQUIRE_TOKEN=true
BACKEND_REQUIRE_AUTH=false
BACKEND_TOKEN=dev123
OCTO_WEBHOOK_SECRET=supersecret123

# ชี้ไป OctoPrint Visual Printer
OCTOPRINT_BASE=http://172.20.10.2:5000
OCTOPRINT_API_KEY=A3gQ6GXqJiKCzda9CLUjDY59hWGdVzdBqfpQynKUOm0
OCTOPRINT_TIMEOUT=15

# --- Detect Alert ---
ALLOWED_DETECT_CLASSES=cracks,layer_shift,spaghetti,stringing
MIN_DETECT_CONFIDENCE=0.70
ALERT_ON_UPDATE=1
ALERT_DEFAULT_EMPLOYEES=admin,qa_lead,shift_manager
AUTO_NOTIFY_ON_READY_PROGRESS=1

AUTO_PAUSE_ON_DETECT=1
PAUSE_ON_EVENTS=issue_started,issue_update,issue_cleared
PAUSE_ON_CLASSES=cracks,layer_shift,spaghetti,stringing
PAUSE_MIN_CONFIDENCE=0.70

BED_EMPTY_ALIASES=bed empty,bed_empty
BED_EMPTY_REQUIRE_RECENT_COMPLETION=0
AUTO_CHAIN_ON_PRINTDONE=0
AUTO_CHAIN_ON_READY_PROGRESS=0
BED_EMPTY_COMPLETION_WINDOW_SEC=0

BACKEND_INTERNAL_BASE=http://127.0.0.1:8001

AUTO_CHAIN_DAEMON=1
AUTO_CHAIN_INTERVAL=5
